import{_ as $}from"./3r1ECnEI.js";import{u as q,a as E,b as F,i as L,c as T}from"./BT9LgsZd.js";import{d as U,a as D,c as M,N as n,o as f,j as p,ac as a,Q as t,a7 as v,ab as b,u as s,X as O,ae as P,aa as Q,ah as R}from"./9z15omkZ.js";import{t as X,z as g,u as G,a as H}from"./Bidafszn.js";const J={class:"w-full max-h-full"},te=U({__name:"referrals",setup(K){const{$api:h}=T(),{t:c}=q(),{setLoading:i}=E(),{setError:x}=F(),y=X(g.object({userId:g.string().min(1).max(200)})),{errors:I,values:d,handleSubmit:w,defineComponentBinds:N}=G({validationSchema:y}),C=N("userId"),l=D(),m=M(()=>l.value?{id:l.value.id,firstName:l.value.firstName,lastName:l.value.lastName}:null),k=w(async()=>{d.userId&&await z()},()=>{});async function z(){var r,u,o;try{i("global",!0);const{data:e}=await h.admin.getAdmins({query:L({codeEqual:d.userId})});(u=(r=e.value)==null?void 0:r.content)!=null&&u.length&&(l.value=e.value.content[0])}catch(e){(o=e==null?void 0:e.response)!=null&&o._data&&x({title:e.response._data.error||""})}finally{i("global",!1)}}return(r,u)=>{const o=n("v-col"),e=n("v-row"),j=n("v-text-field"),B=n("v-btn"),_=n("v-container"),S=n("v-form"),V=n("v-divider"),A=$;return f(),p(_,null,{default:a(()=>[t(S,null,{default:a(()=>[t(_,null,{default:a(()=>[t(e,{class:"text-h6 text-left",justify:"space-between"},{default:a(()=>[t(o,null,{default:a(()=>[v(b(s(c)("labels.referrals")),1)]),_:1})]),_:1}),t(e,{align:"stretch"},{default:a(()=>[t(o,{cols:"12",md:"4"},{default:a(()=>[t(j,O(s(C),{label:s(c)("labels.userId"),"error-messages":("zodI18n"in r?r.zodI18n:s(H))(s(I).userId)}),null,16,["label","error-messages"])]),_:1}),t(o,{cols:"12",md:"4",class:"flex center gap-5"},{default:a(()=>[t(B,{variant:"elevated",type:"submit",color:"secondary",size:"x-large",onClick:P(s(k),["prevent"])},{default:a(()=>[v(b(s(c)("commands.view")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{inset:"",class:"my-4 !max-w-full !ms-0"}),Q("div",J,[s(m)?(f(),p(A,{key:0,user:s(m)},null,8,["user"])):R("",!0)])]),_:1})}}});export{te as default};
