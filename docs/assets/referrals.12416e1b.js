import{_ as E}from"./ListEmptyBanner.80d38ddd.js";import{d as R,D as j,C as z,B as F,a as M,y as O,l as U,k as w,n as G,w as H,r,o as _,c as b,e as o,f as u,x as e,t,h as a,p as J,q as K,F as Q,v as T,j as W,O as X,P as Y,M as Z}from"./entry.09a8d161.js";const B=i=>(X("data-v-e916c032"),i=i(),Y(),i),ee={class:"text-h4 ml-4 mb-5 mt-6"},te={class:"flex items-center"},se=B(()=>e("div",{class:"text-md font-bold basis-10"},[e("span",null,t("â„–"))],-1)),ae=B(()=>e("div",{class:"text-md font-bold basis-10"},t("ID"),-1)),oe={class:"text-md font-bold grow max-w-[30%]"},ne={class:"text-md font-bold grow max-w-[46%]"},le={class:"flex items-center"},ce={class:"text-md basis-10"},re={class:"text-md basis-10"},ie={class:"text-md grow max-w-[30%]"},de={class:"text-md grow max-w-[46%]"},_e=R({__name:"referrals",async setup(i){let y,N;const I=j(),q=z(),m=F(),{$api:S}=W(),{setLoading:$}=M(),{data:C}=O(),p=U(()=>Number(m.query.page||1)),f=w(10),L=w([]),v=w(0);[y,N]=G(()=>P()),await y,N(),H(()=>m.query,()=>{P()});async function P(){var s,h,n,d;try{if(!C.value)return;$("global",!0);const l={paged:!0,page:p.value-1,size:f.value,id:(s=C.value)==null?void 0:s.id},{status:g,data:c}=await S.user.getReferrals(l);g.value==="success"&&((h=c.value)!=null&&h.content&&(L.value=(n=c.value)==null?void 0:n.content),v.value=((d=c.value)==null?void 0:d.totalPages)||0)}catch(l){throw new Error(l)}finally{$("global",!1)}}function V(s){q.push({path:I(m.path),query:{page:s}})}return(s,h)=>{const n=r("v-list-item"),d=E,l=r("v-data-iterator"),g=r("v-pagination"),c=r("v-card"),A=r("v-container");return _(),b(A,{class:"product-list flex-grow-1 d-flex flex-col justify-start items-center"},{default:o(()=>[u(c,{class:"w-full"},{default:o(()=>[e("div",ee,t(s.$t("labels.referrals")),1),u(l,{items:a(L),"items-per-page":a(f)},{default:o(({items:D})=>[u(n,null,{default:o(()=>[e("div",te,[se,ae,e("div",oe,t(s.$t("labels.firstName")),1),e("div",ne,t(s.$t("labels.lastName")),1)])]),_:1}),(_(!0),J(Q,null,K(D,(x,k)=>(_(),b(n,{key:k,height:"20"},{default:o(()=>[e("div",le,[e("div",ce,[e("span",null,t((a(p)-1)*a(f)+k+1),1)]),e("div",re,t(x.raw.id),1),e("div",ie,t(`${x.raw.firstName}`),1),e("div",de,t(`${x.raw.lastName}`),1)])]),_:2},1024))),128))]),"no-data":o(()=>[u(d,{class:"mt-5 mb-10"})]),_:1},8,["items","items-per-page"]),a(v)>1?(_(),b(g,{key:0,"model-value":a(p),length:a(v),class:"mt-4 mb-5",size:"x-small","onUpdate:modelValue":V},null,8,["model-value","length"])):T("",!0)]),_:1})]),_:1})}}});const pe=Z(_e,[["__scopeId","data-v-e916c032"]]);export{pe as default};
