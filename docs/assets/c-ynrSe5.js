import N from"./DeqF1sVa.js";import{d as A,u as L,a as V,b as $,r as c,o as E,c as T,e as l,j as Y,f as o,z as r,t as u,h as e,m as g,g as D,i as F}from"./enCeUreN.js";import{t as M,z as d,u as O,a as b}from"./CCLonOj_.js";const R={class:"text-h5 mb-7 text-center"},U={class:"col-span-2 d-flex justify-center"},q={href:"https://chat.whatsapp.com/EcYjywdBwvU0vB9Yu5LPO3",target:"_blank",class:"w-full flex justify-start items-center gap-3 text-color1 text-left no-underline"},Q=A({__name:"index",setup(G){const{$api:h}=Y(),{t:s}=L(),{setLoading:w}=V(),{setError:m,setSuccess:y}=$(),C=M(d.object({trackCode:d.string().min(1).max(150),description:d.optional(d.string().min(1).max(700))})),{errors:f,values:i,handleSubmit:k,defineComponentBinds:_,handleReset:j}=O({validationSchema:C}),z=_("trackCode"),B=_("description"),x=k(async()=>{var a,n;try{if(!i.trackCode)return;const{status:t,error:p}=await h.product.addProduct({trackCode:i.trackCode,description:i.description});t.value==="success"&&(y({title:s("messages.successProductAdd")}),j()),t.value==="error"&&m({title:s(`errors.${((a=p.value)==null?void 0:a.data)||""}`)})}catch(t){(n=t==null?void 0:t.response)!=null&&n._data&&m({title:t.response._data.error||""})}finally{w("global",!1)}},()=>{});return(a,n)=>{const t=c("v-text-field"),p=c("v-btn"),v=c("v-card"),I=N,S=c("v-container");return E(),T(S,{class:"flex-grow-1 d-flex flex-col justify-start items-center pt-10"},{default:l(()=>[o(v,{class:"d-flex flex-col items-center w-full max-w-600px px-5 py-2 pb-6 mt-8 mb-8 rounded-lg"},{default:l(()=>[r("form",{class:"w-full gap-x-3 gap-y-4 justify-center",onSubmit:n[0]||(n[0]=F((...P)=>e(x)&&e(x)(...P),["prevent"]))},[r("div",R,u(e(s)("titles.addProduct")),1),o(t,g(e(z),{label:e(s)("labels.trackCode"),autofocus:!0,"error-messages":("zodI18n"in a?a.zodI18n:e(b))(e(f).trackCode)}),null,16,["label","error-messages"]),o(t,g(e(B),{label:e(s)("labels.description"),"error-messages":("zodI18n"in a?a.zodI18n:e(b))(e(f).description)}),null,16,["label","error-messages"]),r("div",U,[o(p,{class:"me-4",variant:"elevated",type:"submit"},{default:l(()=>[D(u(e(s)("commands.add")),1)]),_:1})])],32)]),_:1}),o(v,{class:"d-flex flex-col items-center w-full max-w-600px px-4 py-2 mt-4 mb-8 rounded-lg"},{default:l(()=>[r("a",q,[o(I,{class:"w-10 h-10 fill-none",filled:!0}),r("span",null,u(e(s)("our_whatsapp")),1)])]),_:1})]),_:1})}}});export{Q as default};
