import{_ as $}from"./DELfr57G.js";import{d as q,u as E,a as F,b as L,k as T,l as U,I as D,r as n,o as f,c as p,e as s,j as M,f as t,g as v,t as g,h as a,m as O,i as P,z as R,y as G}from"./enCeUreN.js";import{t as H,z as b,u as J,a as K}from"./CCLonOj_.js";const Q={class:"w-full max-h-full"},ee=q({__name:"referrals",setup(W){const{$api:h}=M(),{t:c}=E(),{setLoading:i}=F(),{setError:y}=L(),I=H(b.object({userId:b.string().min(1).max(200)})),{errors:x,values:d,handleSubmit:w,defineComponentBinds:N}=J({validationSchema:I}),C=N("userId"),l=T(),m=U(()=>l.value?{id:l.value.id,firstName:l.value.firstName,lastName:l.value.lastName}:null),k=w(async()=>{d.userId&&await z()},()=>{});async function z(){var r,u,o;try{i("global",!0);const{data:e}=await h.admin.getAdmins({query:D({codeEqual:d.userId})});(u=(r=e.value)==null?void 0:r.content)!=null&&u.length&&(l.value=e.value.content[0])}catch(e){(o=e==null?void 0:e.response)!=null&&o._data&&y({title:e.response._data.error||""})}finally{i("global",!1)}}return(r,u)=>{const o=n("v-col"),e=n("v-row"),j=n("v-text-field"),B=n("v-btn"),_=n("v-container"),S=n("v-form"),V=n("v-divider"),A=$;return f(),p(_,null,{default:s(()=>[t(S,null,{default:s(()=>[t(_,null,{default:s(()=>[t(e,{class:"text-h6 text-left",justify:"space-between"},{default:s(()=>[t(o,null,{default:s(()=>[v(g(a(c)("labels.referrals")),1)]),_:1})]),_:1}),t(e,{align:"stretch"},{default:s(()=>[t(o,{cols:"12",md:"4"},{default:s(()=>[t(j,O(a(C),{label:a(c)("labels.userId"),"error-messages":("zodI18n"in r?r.zodI18n:a(K))(a(x).userId)}),null,16,["label","error-messages"])]),_:1}),t(o,{cols:"12",md:"4",class:"flex center gap-5"},{default:s(()=>[t(B,{variant:"elevated",type:"submit",color:"secondary",size:"x-large",onClick:P(a(k),["prevent"])},{default:s(()=>[v(g(a(c)("commands.view")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{inset:"",class:"my-4 !max-w-full !ms-0"}),R("div",Q,[a(m)?(f(),p(A,{key:0,user:a(m)},null,8,["user"])):G("",!0)])]),_:1})}}});export{ee as default};
